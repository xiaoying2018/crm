<style>
	.thumb80 {
		height: 100px;
		width: 100px
	}
	
	.casedataModal .cm_modal {
		border-radius: 5px;
		background-color: #fff;
	}
	
	.casedataModal .title-bar {
		border: none;
		font-size: 16px;
		padding-bottom: 0;
		margin-top: 5px;
	}
	
	.casedataModal .text-tag {
		display: inline-block;
	}
	
	.casedataModal .text-tag {
		font-size: 16px;
		padding-left: 4px;
		border-left: 4px solid #18a689;
		line-height: 16px;
		margin-top: 10px;
	}
	
	.casedataModal .table {
		font-size: 14px;
		width: 90%;
		margin: 0 auto;
		padding: 20px;
		margin-bottom: 20px;
	}
	
	.casedataModal .table td {
		border-color: #f2f2f2;
	}
	
	.td_title {
		color: #8d8d8d !important;
		width: 20%;
	}
	
	textarea {
		outline: none;
		border: 1px solid #e7eaec;
		height: 100px;
		padding: 10px;
		overflow-y: scroll;
		background: #fff !important;
		width: 100%;
	}
	
	.nodata {
		color: #ccc;
	}
	
	.download {
		color: #4865ff;
		text-decoration: underline;
	}
	
	.ui-dialog[aria-describedby="detail-dialog-file"] {
		z-index: 2051;
	}
	
	ul,
	li {
		list-style: none;
		margin: 0;
		padding: 0;
	}
	
	.r_table {
		width: 90%;
		margin: 0 auto;
		float: none;
		padding-left: 0 !important;
		padding-right: 0 !important;
		overflow: hidden;
		border-bottom: 1px dotted #D8D8D8;
	}
	
	.r_table>li {
		font-size: 14px;
	}
	
	.r_table>li>div {
		padding: 16px;
		/*border-bottom: 1px solid #e7eaec;*/
	}
	
	.r_table>li:nth-last-of-type(1),
	.r_table>li:nth-last-of-type(2) {
		border-bottom: none;
	}
	
	.d_title {
		color: #8d8d8d;
	}
	
	.td_title {
		display: inline-block;
		margin-bottom: 20px;
	}
	
	._row {
		position: relative;
	}
	
	.item_table {
		width: 90%;
		margin: 0 auto;
		margin-top: 30px;
		overflow: hidden;
	}
	
	.item_table>div {
		width: 45%;
		float: left;
	}
	
	.item_table>div:nth-of-type(2) {
		margin-left: 5%;
	}
	
	@media only screen and (max-width:998px) {
		.item_table>div {
			width: 100%;
		}
		.item_table>div:nth-of-type(2) {
			margin-left: 0;
		}
	}
	
	._prompt {
		color: #dc4c4c;
		white-space: nowrap;
		font-size: 12px;
	}
	
	.item_table ._scrollbar {
		max-height: 200px;
		overflow-y: auto;
		display: inherit;
	}
	
	.item_table {
		margin-bottom: 30px;
	}
	
	.item_table ._scrollbar::-webkit-scrollbar {
		/*滚动条整体样式*/
		width: 2px;
		/*高宽分别对应横竖滚动条的尺寸*/
		height: 10px;
	}
	
	.item_table ._scrollbar::-webkit-scrollbar-thumb {
		/*滚动条里面小方块*/
		border-radius: 5px;
		/*  -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);*/
		background: #d8d8d8;
	}
	
	.item_table ._scrollbar::-webkit-scrollbar-track {
		/*滚动条里面轨道*/
		/*-webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);*/
		/*border-radius: 5px;*/
		background: #F6F6F6;
	}
	
	.modal-dialog {
		max-height: 90%;
		overflow: scroll;
	}
	
	.modal-dialog::-webkit-scrollbar {
		display: none;
	}
</style>
<link href="/Public/css/litebox.css" rel="stylesheet" type="text/css">
<script src="/Public/js/images-loaded.min.js" type="text/javascript"></script>
<script src="/Public/js/litebox.min.js" type="text/javascript"></script>
<!-- 客户详细 -->
<div class="modal fade bs-example-modal-lg casedataModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
	<div class="modal-dialog" role="document" style="width: 80%;">
		<div class="row cm_modal">
			<div class="col-lg-12">
				<div class="title-bar">
					<div class="row " id="title-show">
						<div class="all-inline clearfix">
							<div style="float: left;">
								<span class="text-tag">案例详情</span>
							</div>
							<button type="button" class="btn btn-default" data-dismiss="modal" style="float: right;margin-right: 15px;">
                                关闭
                            </button>
						</div>
					</div>
				</div>
				<div class="row _row">
					<ul class="r_table col-md-12">
						<li class="col-md-6">
							<div class="col-md-3 d_title">姓名：</div>
							<div class="col-md-5" v-html="data.name"></div>
						</li>

						<li class="col-md-6">
							<div class="col-md-3 d_title">录取大学：</div>
							<div class="col-md-5" v-html="data.univ"></div>
						</li>
						<li class="col-md-6">
							<div class="col-md-3 d_title">录取专业：</div>
							<div class="col-md-5" v-html="data.college"></div>
						</li>
						<li class="col-md-6">
							<div class="col-md-3 d_title">本科大学：</div>
							<div class="col-md-5" v-html="data.from_univ"></div>
						</li>
						<li class="col-md-6">
							<div class="col-md-3 d_title">本科专业：</div>
							<div class="col-md-5" v-html="data.from_zhuan"></div>
						</li>
						<li class="col-md-6">
							<div class="col-md-3 d_title">日语能力：</div>
							<div class="col-md-5" v-html="data.score_jap"></div>
						</li>
						<li class="col-md-6">
							<div class="col-md-3 d_title">英语能力：</div>
							<div class="col-md-5" v-html="data.score_en"></div>
						</li>
						<li class="col-md-6">
							<div class="col-md-3 d_title">GPA：</div>
							<div class="col-md-5" v-html="data.gpa"></div>
						</li>
						<li class="col-md-6">
							<div class="col-md-3 d_title">录取年份：</div>
							<div class="col-md-5" v-html="data.year"></div>
						</li>

						<li class="col-md-6">
							<div class="col-md-3 d_title">入学身份：</div>
							<div class="col-md-5" v-html="data.sf"></div>
						</li>

						<li class="col-md-6">
							<div class="col-md-3 d_title">在校成绩：</div>
							<div class="col-md-5" v-html="data.score_school"></div>
						</li>
						<li class="col-md-6">
							<div class="col-md-3 d_title">热门标签：</div>
							<div class="col-md-5" v-html="data.hottag"></div>
						</li>
						<li class="col-md-6">
							<div class="col-md-3 d_title">申请建议：</div>
							<div class="col-md-5" v-html="data.note_suggest"></div>
						</li>
						<li class="col-md-6">
							<div class="col-md-3 d_title">平均学分：</div>
							<div class="col-md-5" v-html="data.xuefen"></div>
						</li>
						<li class="col-md-6" style="">
							<div class="col-md-3 d_title">录取证书：</div>
							<div class="col-md-8" v-html="">
								<a :href="data.certs" class="litebox_file" v-if='data.certs'>{{data.certs}}</a>
								<a :file="data.certs" class="oDownLoad"  v-if='data.certs' >下载</a>
							</div>
						</li>
						<li class="col-md-6">
							<div class="col-md-3 d_title">学生优势：</div>
							<div class="col-md-6">
								<textarea name="" cols="30" rows="10" readonly="readonly">{{data.note_merit}}</textarea>
							</div>
						</li>
						<li class="col-md-6">
							<div class="col-md-3 d_title">学生劣势：</div>

							<div class="col-md-6">
								<textarea name=""  cols="30" rows="10" readonly="readonly">{{data.note_defect}}</textarea>
							</div>
						</li>
						<li class="col-md-6" style="margin-bottom: 30px">
							<div class="col-md-3 d_titl">方案分析：</div>

							<div class="col-md-6">
								<textarea name=""  cols="30" rows="10" readonly="readonly">{{data.plan}}</textarea>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
	$(function() {
		var casedataModal = new Vue({
			el: '.casedataModal',
			data: {
				data: {},
				arry: {}
			},
			methods: {
				getDetail: function(id) {
					if(!id)
						return;
					var _this = this;
					$.ajax({
						url: "/casedata/detail?id=" + id,
						dataType: 'JSON',
						type: 'GET',
						success: function(res) {
							//                  	console.log(res.files)
							if(res.status) {
								var _res = res.data;
								for(var key in _res) {

									//                          	console.log(key)
									if(key == 'files') {
										console.log(_res["files"])
										_this.arry = _res["files"];
										//                              	for (var i = 0; i < _res["files"].length; i++) {
										//                              		_res["files"][i]
										//                              	}

										//                              	console.log()
										//                                  _res["update_time"] = timestampToFormat(_res["update_time"], 'yyyy-MM-dd hh:mm:ss');
									}
									//

									//                                    if (key == 'id') {
									//                                        for (var i = 0; i < res.catedata.length; i++) {
									//                                            if (res.catedata[i]["cooperation_cate_id"] == _res[key]) {
									//                                                _res["cooperation_cate_name"] = res.catedata[i].cooperation_cate_name;
									//                                            }
									//                                        }
									//                                    }
									//                                    if (_res[key].length == 0) {
									//                                        _res[key] = "<span class='nodata'>暂无数据</span>"
									//                                    }
								}

								_this.data = _res;
								console.log(_this.data)
								_this.$nextTick(function() {
									$('.litebox_file').liteBox({
										revealSpeed:  400,
										background:   'rgba(0,0,0,.8)',
										overlayClose:  true,
										escKey:  true,
										navKey:  true,
										errorMessage:   '图片加载失败.'
									});

									$(".oDownLoad").click(function() {
										var src = $(this).attr("file")
										var $a = document.createElement('a');
										$a.setAttribute("href", src);
										$a.setAttribute("download", "");

										var evObj = document.createEvent('MouseEvents');
										evObj.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, true, false, 0, null);
										$a.dispatchEvent(evObj);
									})
								});
							}
						},
						error: function(e) {
							console.log(e);
							alert('网络异常！');
						}
					});
				}
			},
			mounted: function() {
				var _this = this;
				//关闭浮层
				$(".casedataModal-close").click(function() {
					$(".casedataModal").modal('hide');
				})
			}
		})
		$('.casedataModal').on('show.bs.modal', function(ele) {
			casedataModal.data = {};
			casedataModal.getDetail(ele.relatedTarget);
		})

	});
</script>